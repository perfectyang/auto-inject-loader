"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var loaderUtils=require("loader-utils"),valiation=require("schema-utils"),compiler=require("vue-template-compiler"),transtJs=require("./transt");function loader(t){var e=this.async(),a=loaderUtils.getOptions(this);valiation({type:"object",properties:{autoImport:{type:"array"}}},a,"auto-import");var n=compiler.parseComponent(t);if(n.script){var r=transtJs(n.script.content,a),o=n.styles.map(function(t){return"<".concat(t.type," ")+"".concat(t.lang?'lang="'+t.lang+'"':"")+" ".concat(t.scoped?"scoped":"",">").concat(t.content,"</").concat(t.type,">")}).join("\n");e(null,"\n    <template>\n    ".concat(n.template.content,"\n    </template>\n    <script>\n    ").concat(r,"\n    <\/script>\n    ").concat(o,"\n    "))}else e(null,t)}var _default=loader;exports.default=_default;